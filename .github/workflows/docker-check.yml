name: Docker Build Check

# Uruchamiaj tylko na Twoich branchach
on:
  push:
    branches: [ "my-branch", "new-branch" ]
  pull_request:
    branches: [ "my-branch", "new-branch" ]

jobs:
  build-docker-images:
    # WAŻNE: Używamy Twojej maszyny wirtualnej (runnera)
    runs-on: self-hosted
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Build Backend Image
      # Buduje backend używając Twojego pliku DockerfileBuild
      run: docker build -f DockerfileBuild -t demo-backend:test .

    - name: Build Frontend Image
      # Buduje frontend używając Twojego pliku DockerfileFrontend
      run: docker build -f DockerfileFrontend -t demo-frontend:test .